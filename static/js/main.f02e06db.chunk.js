(this.webpackJsonpsake=this.webpackJsonpsake||[]).push([[0],{1305:function(n,t,e){"use strict";e.r(t),e.d(t,"GlobalStyle",(function(){return on}));var r,a=e(3),c=e(1),u=e(0),o=e.n(u),i=e(15),d=e.n(i),f=e(2),l=e(16),s=e.n(l),b=e(10),j=e(6),O=e(4),m=e.n(O),v=e(7);function h(){var n=Object(a.a)(["\n  max-width: 300px;\n  border-radius: 4px;\n"]);return h=function(){return n},n}function x(){var n=Object(a.a)(["\n  padding: 0.5rem 1rem;\n  background: #fff;\n  border: 1px solid #ccc;\n  border-radius: 4px;\n"]);return x=function(){return n},n}function p(){var n=Object(a.a)(["\n  border: 1px solid #ccc;\n  border-radius: 4px;\n  background: #fff;\n"]);return p=function(){return n},n}!function(n){n.TEXT="TEXT",n.IMAGE="IMAGE",n.NOTIFICATION="NOTIFICATION"}(r||(r={}));var g=f.default.div(p()),I=f.default.button(x()),T=f.default.img(h());function y(){var n=Object(a.a)(["\n  padding: 1rem;\n  height: 500px;\n  overflow-y: auto;\n"]);return y=function(){return n},n}var N=Object(f.default)(g)(y()),E=function(n){var t=n.children,e=n.data,r=Object(u.useMemo)((function(){return u.Children.map(t,(function(n){if(Object(u.isValidElement)(n)&&n.props.match)return{match:n.props.match,element:n}}))}),[t]);function a(n){var t=null===r||void 0===r?void 0:r.find((function(t){return t.match===n.type}));return t?Object(u.cloneElement)(t.element,{message:n,onLayoutUpdate:i}):(console.error("Message render no found: ".concat(n.type)),null)}var o=Object(u.useRef)(null),i=Object(u.useCallback)((function(){o.current&&(o.current.scrollTop=o.current.scrollHeight)}),[]);return Object(u.useEffect)((function(){i()}),[e,i]),Object(c.jsx)(N,{ref:o,children:e.map((function(n){return Object(c.jsx)("div",{children:a(n)},n.id)}))})};function A(){var n=Object(a.a)(["\n  width: 28px;\n  height: 28px;\n  background: palevioletred;\n  border-radius: 100%;\n  line-height: 28px;\n  text-align: center;\n  font-weight: 500;\n  color: #fff;\n"]);return A=function(){return n},n}var k=f.default.div(A()),C=function(n){var t;return Object(c.jsx)(k,{children:null===(t=n.name)||void 0===t?void 0:t.charAt(0)})};function F(){var n=Object(a.a)(["\n  display: flex;\n  align-items: flex-start;\n  margin: 1rem 0;\n  \n  .avatar {\n    flex: 0 0 auto;\n    margin-right: 0.5rem;\n  }\n  .content {\n    flex: auto;\n  }\n  .author {\n    margin-bottom: 0.125rem;\n    font-size: 14px;\n    color: #777;\n  }\n  .bubble {\n    flex: auto;\n  }\n"]);return F=function(){return n},n}var S=f.default.div(F()),L=function(n){return Object(c.jsxs)(S,{children:[Object(c.jsx)("div",{className:"avatar",children:"function"===typeof n.avatarRender?n.avatarRender():Object(c.jsx)(C,{name:n.author})}),Object(c.jsxs)("div",{className:"content",children:[Object(c.jsx)("div",{className:"author",children:n.author}),Object(c.jsx)("div",{className:"bubble",children:n.bubbleRender()})]})]})};function w(){var n=Object(a.a)(["\n  height: 225px;\n  background: #f1f1f1;\n"]);return w=function(){return n},n}function M(){var n=Object(a.a)(["\n  font-size: 14px;\n  color: #777;\n"]);return M=function(){return n},n}var G=f.default.div(M()),R=Object(f.default)(T)(w()),z=function(n){var t=n.url,e=n.onLoaded,r=function(n){var t=Object(u.useState)(!0),e=Object(j.a)(t,2),r=e[0],a=e[1],c=Object(u.useState)(!1),o=Object(j.a)(c,2),i=o[0],d=o[1];return Object(u.useEffect)((function(){if(n){var t=document.createElement("img");return t.addEventListener("load",e),t.addEventListener("error",r),t.src=n,function(){t.removeEventListener("load",e),t.removeEventListener("error",r)}}function e(){a(!1)}function r(){d(!0)}}),[n]),{loading:r,error:i}}(t),a=r.loading,o=r.error;return Object(u.useEffect)((function(){"function"!==typeof e||a||e()}),[a,e]),o?Object(c.jsx)(G,{children:"Failed"}):Object(c.jsx)(R,{src:t})},X=Object(u.memo)((function(n){var t=n.message;return t&&t.data?Object(c.jsx)(L,{author:t.author,bubbleRender:function(){return Object(c.jsx)(z,{url:t.data,onLoaded:n.onLayoutUpdate})}}):null}));function B(){var n=Object(a.a)(["\n  margin: 0.25rem;\n  text-align: center;\n  color: #555;\n"]);return B=function(){return n},n}var P=f.default.div(B()),U=Object(u.memo)((function(n){var t=n.message;return t&&t.data?Object(c.jsx)(P,{children:t.data}):null}));function D(){var n=Object(a.a)(["\n  \n"]);return D=function(){return n},n}var H=f.default.div(D()),J=Object(u.memo)((function(n){var t=n.message;return t&&t.data?Object(c.jsx)(L,{author:t.author,bubbleRender:function(){return Object(c.jsx)(H,{children:t.data})}}):null}));function V(){var n=Object(a.a)([""]);return V=function(){return n},n}function q(){var n=Object(a.a)(["\n  padding: 1rem;\n  display: flex;\n  justify-content: space-around;\n"]);return q=function(){return n},n}function K(){var n=Object(a.a)(["\n  margin-bottom: 0.5rem;\n"]);return K=function(){return n},n}function Q(){var n=Object(a.a)(["\n  margin-bottom: 1rem;\n  font-size: 20px;\n"]);return Q=function(){return n},n}function W(){var n=Object(a.a)(["\n  width: 600px;\n  margin: 0 auto;\n  padding: 1rem;\n  background: rgba(128, 128, 128, 0.1);\n"]);return W=function(){return n},n}var Y=Object(f.default)(g)(W()),Z=f.default.div(Q()),$=f.default.div(K()),_=Object(f.default)(g)(q()),nn=Object(f.default)(I)(V());function tn(){return{id:Object(v.a)(),author:m.a.name.firstName(),type:r.IMAGE,data:"//placeimg.com/640/480/animals?t=".concat(Date.now())}}function en(){return{id:Object(v.a)(),author:m.a.name.firstName(),type:r.TEXT,data:m.a.lorem.sentence()}}var rn=function(n){var t=Object(u.useState)((function(){return Array.from({length:10}).map((function(t,e){return e?9===e?tn():en():{id:Object(v.a)(),author:"NOTIFICATION",type:r.NOTIFICATION,data:"".concat(n.name," just created a group.")}}))})),e=Object(j.a)(t,2),a=e[0],o=e[1];return Object(c.jsxs)(Y,{children:[Object(c.jsx)(Z,{children:"".concat(n.name,"'s Group")}),Object(c.jsx)($,{children:Object(c.jsxs)(E,{data:a,children:[Object(c.jsx)(J,{match:r.TEXT}),Object(c.jsx)(X,{match:r.IMAGE}),Object(c.jsx)(U,{match:r.NOTIFICATION})]})}),Object(c.jsxs)(_,{children:[Object(c.jsx)(nn,{onClick:function(){o((function(n){return[].concat(Object(b.a)(n),[{id:Object(v.a)(),author:"NOTIFICATION",type:r.NOTIFICATION,data:"".concat(m.a.name.firstName()," has joined this group.")}])}))},children:"Add a new friend"}),Object(c.jsx)(nn,{onClick:function(){o((function(n){return[].concat(Object(b.a)(n),[en()])}))},children:"Say some thing"}),Object(c.jsx)(nn,{onClick:function(){o((function(n){return[].concat(Object(b.a)(n),[tn()])}))},children:"Post a Sticker"})]})]})};var an=function(){return Object(c.jsx)("div",{className:"App",children:Object(c.jsx)(rn,{name:O.name.firstName()})})},cn=function(n){n&&n instanceof Function&&e.e(3).then(e.bind(null,1306)).then((function(t){var e=t.getCLS,r=t.getFID,a=t.getFCP,c=t.getLCP,u=t.getTTFB;e(n),r(n),a(n),c(n),u(n)}))};function un(){var n=Object(a.a)(["\n  ","\n  body {\n    font-family: -apple-system,BlinkMacSystemFont,Segoe UI,Helvetica,Arial,sans-serif;\n    padding: 1rem;\n  }\n  div {\n    box-sizing: border-box;\n  }\n"]);return un=function(){return n},n}var on=Object(f.createGlobalStyle)(un(),s.a);d.a.render(Object(c.jsxs)(o.a.StrictMode,{children:[Object(c.jsx)(on,{}),Object(c.jsx)(an,{})]}),document.getElementById("root")),cn()}},[[1305,1,2]]]);
//# sourceMappingURL=main.f02e06db.chunk.js.map